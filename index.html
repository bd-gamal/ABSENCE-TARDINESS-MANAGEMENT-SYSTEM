<!DOCTYPE html>
<html lang="fr" class="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Historique & Stats</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = { darkMode: 'class' }
    </script>
    <style>
        body { font-family: 'Segoe UI', sans-serif; }
    </style>
</head>

       <body class="bg-gray-50 dark:bg-gray-900 transition-colors duration-300">

     <div class="flex h-screen overflow-hidden">

 
     <aside id="sidebar" class="fixed inset-y-0 left-0 w-64 bg-blue-600 text-white flex flex-col shadow-xl z-30 transform -translate-x-full transition-transform duration-300 md:relative md:translate-x-0">

          <div class="p-8 text-center border-b border-blue-500">

            <h1 class="text-2xl font-extrabold tracking-wider">Historique & Stats</h1>
        </div>
        <nav class="flex-1 p-4 space-y-2 mt-4">
            <a href="#" id="btnHistorique" class="block py-3 px-4 rounded-lg bg-blue-800 text-white flex items-center">
                <i class="fa-solid fa-clock-rotate-left w-6"></i> Historique
            </a>
            <a href="#" id="btnStatistiques" class="block py-3 px-4 rounded-lg hover:bg-blue-700 transition flex items-center">
                <i class="fa-solid fa-chart-line w-6"></i> Statistiques
            </a>
        </nav>
    </aside>


    <main class="flex-1 flex flex-col h-screen overflow-hidden relative">

        <header class="h-20 bg-blue-600 dark:bg-gray-800 shadow-sm flex items-center justify-between px-4 md:px-8">
            <h2 class="text-xl font-bold text-white">Historique & Statistiques</h2>
            <button id="darkModeBtn" class="bg-white/10 text-white px-4 py-2 rounded-lg hover:bg-white/20 transition">
                <i class="fa-solid fa-moon"></i> Dark Mode
            </button>
        </header>

        <div class="flex-1 overflow-y-auto p-4 md:p-8">

        
            <div id="historiqueSection" class="space-y-8">
         <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700">
          <h3 class="text-lg font-bold mb-4 dark:text-white">Liste des journées</h3>
                 <div class="overflow-x-auto">
          <table class="w-full text-left border-collapse">
                 <thead>
                      <tr class="bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-300">
               <th class="p-3 border-b dark:border-gray-600">Date</th>
              <th class="p-3 border-b dark:border-gray-600 text-center">Absents</th>
            <th class="p-3 border-b dark:border-gray-600 text-center">Retards</th>
            <th class="p-3 border-b dark:border-gray-600">Action</th>
                         </tr>
                            </thead>
                  <tbody id="historiqueData" class="dark:text-gray-200"></tbody>
                        </table>
              </div>
             </div>

                <div class="grid md:grid-cols-2 gap-6">
             <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm">
               <h3 class="text-red-500 font-bold mb-4 flex items-center gap-2">
                 <i class="fa-solid fa-user-xmark"></i> Détails Absences
                     </h3>
                     <ul id="detailsabsences" class="space-y-2"></ul>
                    </div>
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm">
                     <h3 class="text-orange-500 font-bold mb-4 flex items-center gap-2">
                        <i class="fa-solid fa-user-clock"></i> Détails Retards
                        </h3>
                        <ul id="detailsretards" class="space-y-2"></ul>
             </div>
         </div>
            </div>

           
         <div id="statistiquesSection" class="space-y-8 hidden">
         <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6">
              <h3 class="text-xl font-bold dark:text-white border-b pb-2">Tableau de Bord</h3>

               <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                  <div class="p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg">
                     <p class="text-sm text-blue-600 font-bold uppercase">Taux Absence</p>
                 <p id="tauxAbs" class="text-2xl font-black dark:text-white">0%</p>
                        </div>
                        <div class="p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg">
                            <p class="text-sm text-orange-600 font-bold uppercase">Taux Retard</p>
                            <p id="tauxRet" class="text-2xl font-black dark:text-white">0%</p>
                        </div>
                  <div class="p-4 bg-green-50 dark:bg-green-900/20 rounded-lg">
                         <p class="text-sm text-green-600 font-bold uppercase">Moyenne Arrivée</p>
                      <p id="moyenneHeure" class="text-2xl font-black dark:text-white">--:--</p>
                        </div>
                    </div>

                    <div class="grid md:grid-cols-2 gap-8 mt-4">
                        <div>
                      <h4 class="font-bold mb-2 text-gray-700 dark:text-gray-300">Top 3 Absents</h4>
                    <div id="topAbsents" class="space-y-1"></div>
                        </div>
                        <div>
                         <h4 class="font-bold mb-2 text-gray-700 dark:text-gray-300">Top 3 Retardataires</h4>
                         <div id="topRetards" class="space-y-1"></div>
                        </div>
                       </div>
                     </div>
                     </div>

                      </div>
                    </main>
</div>
<script src="script.js"></script>
</body>
</html>
